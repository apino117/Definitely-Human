<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Definitely Human</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

    <!-- Bootstrap with popper for dropdowns -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

    <!-- Jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>


</head>

<body>

    <!----------------- Header ----------------->
    <div class="jumbotron jumbotron-fluid">
        <div class="container" id="jumbotron-container">
            <h1 class="display-4">Exchange Information for Emotional Connection!</h1>
            <hr>
            <p class="lead">Give us your name and a human picture, only then will we accept your answers.</p>
        </div>
    </div>

    <!----------------- About You ----------------->
    <div class="container" id="about-you-container">
        <div class="row" id="about-you-row">
            <div class="col-12" id="about-you-column">
                <h2>About me, the human person</h2>
                <form>
                    <div class="form-group">
                        <label for="name-input">Name</label>
                        <input type="text" class="form-control" id="name-input" aria-describedby="nameHelp"
                            placeholder="Regular human name like...Lennemore. That's a name, right? Lennemore? Is that anything?">
                        <small id="nameHelp" class="form-text text-muted">If you weren't assigned a name please report
                            back to the mother <i>immediately</i> you should <i>not</i> just be wandering around like
                            this.</small>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputPhoto">Photo</label>
                        <input type="text" class="form-control" id="photo-input"
                            placeholder="Submit a normal human photo, perhaps where the most teeth are exposed">
                        <small class="form-text text-muted">If you need help find a photo where 33.33% is unoccupied by
                            it's subjects.</small>
                    </div>
                </form>
            </div>
        </div>
        <hr>
    </div>



    <!----------------- Survey Questions ----------------->
    <div class="container" id="survey-container">
        <div class="row" id="survey-row">
            <div class="col-12" id="survey-column">
                <h2>Question One</h2>
                <p>I have metacarpals and can use them for a variety of tasks.</p>

                <!----------------- Dropdown Menu ----------------->
                <small class="form-text text-muted">Select from the agreement spectrum</small>
                <select class="quest" id="q1">
                    <option value=""></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3 (Ambivalent)</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <br>
                <br>

                <h2>Question Two</h2>
                <p>I find it perfectly acceptable to bear my teeth at complete strangers in greeting.</p>

                <!----------------- Dropdown Menu ----------------->
                <small class="form-text text-muted">Select from the agreement spectrum</small>
                <select class="quest" id="q2">
                    <option value=""></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3 (Ambivalent)</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <br>
                <br>

                <h2>Question Three</h2>
                <p>I crave sun damage so that I may look beautiful.</p>

                <!----------------- Dropdown Menu ----------------->
                <small class="form-text text-muted">Select from the agreement spectrum</small>
                <select class="quest" id="q3">
                    <option value=""></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3 (Ambivalent)</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <br>
                <br>

                <h2>Question Four</h2>
                <p>I produce mouth-fluids upon seeing a delicious piece of sustinance.</p>

                <!----------------- Dropdown Menu ----------------->
                <small class="form-text text-muted">Select from the agreement spectrum</small>
                <select class="quest" id="q4">
                    <option value=""></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3 (Ambivalent)</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <br>
                <br>

                <h2>Question Five</h2>
                <p>I wear extra skins that are deemed good or bad depending on the year.</p>

                <!----------------- Dropdown Menu ----------------->
                <small class="form-text text-muted">Select from the agreement spectrum</small>
                <select class="quest" id="q5">
                    <option value=""></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3 (Ambivalent)</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <br>
                <br>

                <h2>Question Six</h2>
                <p>Although I can only percieve time linearly I'm constantly struggling with living "presently".</p>

                <!----------------- Dropdown Menu ----------------->
                <small class="form-text text-muted">Select from the agreement spectrum</small>
                <select class="quest" id="q6">
                    <option value=""></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3 (Ambivalent)</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <br>
                <br>

                <h2>Question Seven</h2>
                <p>I have no concept of how big the universe really is.</p>

                <!----------------- Dropdown Menu ----------------->
                <small class="form-text text-muted">Select from the agreement spectrum</small>
                <select class="quest" id="q7">
                    <option value=""></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3 (Ambivalent)</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <br>
                <br>

                <h2>Question Eight</h2>
                <p>I produce a convulsive and uncontrollable laughter as a defense mechanism for attacks related to
                    epidermal aggitation or stimulation.</p>

                <!----------------- Dropdown Menu ----------------->
                <small class="form-text text-muted">Select from the agreement spectrum</small>
                <select class="quest" id="q8">
                    <option value=""></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3 (Ambivalent)</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <br>
                <br>

                <h2>Question Nine</h2>
                <p>I cannot run quickly but have a long-term stamina making me ideal for hunting in groups over periods
                    of time.</p>

                <!----------------- Dropdown Menu ----------------->
                <small class="form-text text-muted">Select from the agreement spectrum</small>
                <select class="quest" id="q9">
                    <option value=""></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3 (Ambivalent)</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <br>
                <br>

                <h2>Question Ten</h2>
                <p>I process millions of electrical impulses every minute of every day.</p>

                <!----------------- Dropdown Menu ----------------->
                <small class="form-text text-muted">Select from the agreement spectrum</small>
                <select class="quest" id="q10">
                    <option value=""></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3 (Ambivalent)</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <br>
                <br>
            </div>
        </div>
    </div>


    <!----------------- Submit Bar ----------------->

    <div class="container" id="submit-container">
        <div class="row" id="submit-row">
            <div class="col-12" id="submit-column">
                <hr>
                <button type="button" class="btn btn-primary btn-lg btn-block" id="submit-btn">Put forth!</button>
            </div>
        </div>
    </div>

    <!-- Container for Github Repo and API JSON page -->
    <div class="container" id="api-link-container">
        <div class="row" id="api-link-row">
            <div class="col-12" id="api-link-column">
                <hr>
                <p>
                    <a href="/api/humans">API List</a> | <a href="https://github.com/apino117/Definitely-Human">Github
                        Repo</a> | <a href="api/clear">Clear Humans List</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal" tabindex="-1" role="dialog" id="user-input-modal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Pssst!</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Something's missing. Human's have names, appearances and thoughts so if you haven't supplied your
                        human name, a photo and/or answered the questions...you need to do all of that. None of this is
                        going to work if you don't do all of it nobody's going to believe it and I'll have blown our
                        entire budget for nothing!
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Result Modal -->
    <div class="modal" tabindex="-1" role="dialog" id="results-modal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Hey!</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h2>Here's Your Match!</h2>
                    <h3 id="human-name"></h3>
                    <img id="human-photo">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <!-- ======================================================== JAVASCRIPT ======================================================== -->
    <script>



        // When the submit button is clicked
        $("#submit-btn").on("click", function (event) {

            // Prevent a refresh
            event.preventDefault();

            // Input validation - if user leaves name and/or photo blank
            if ($("#name-input").val().trim() === "" || $("#photo-input").val().trim() === "" || $(".quest").val() === "") {
                // Put up a modal
                $("#user-input-modal").modal("show");
                return;
            };

            // Create a new object from the answers
            var newHuman = {
                name: $("#name-input").val().trim(),
                photo: $("#photo-input").val().trim(),
                scores: [
                    $("#q1").val(),
                    $("#q2").val(),
                    $("#q3").val(),
                    $("#q4").val(),
                    $("#q5").val(),
                    $("#q6").val(),
                    $("#q7").val(),
                    $("#q8").val(),
                    $("#q9").val(),
                    $("#q10").val(),
                ],
            };


            // Post new object
            $.post("/api/humans", newHuman, function (data) {

                // Confirm it happened
                if (data) {
                    alert("Addittion to database successfull!!!");
                    console.log("this is the new human " + newHuman.name);
                }

                // Clear the form when submitting
                $("#name-input").val("");
                $("#photo-input").val("");
                $("#q1").val("");
                $("#q2").val("");
                $("#q3").val("");
                $("#q4").val("");
                $("#q5").val("");
                $("#q6").val("");
                $("#q7").val("");
                $("#q8").val("");
                $("#q9").val("");
                $("#q10").val("");




                // Update the modal
                $("#human-name").text(data.name);
                $("#human-photo").attr("src", data.photo);


                // Display Match
                $("#results-modal").modal("show");
            });
        })

    </script>
</body>

</html>